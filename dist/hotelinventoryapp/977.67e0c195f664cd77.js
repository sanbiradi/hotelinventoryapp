"use strict";(self.webpackChunkhotelinventoryapp=self.webpackChunkhotelinventoryapp||[]).push([[977],{8977:(N,Z,l)=>{l.r(Z),l.d(Z,{RoomsModule:()=>p});var c=l(6895),g=l(8869),e=l(4650),C=l(133);class a{constructor(o){this.roomService=o}canActivateChild(o,t){return this.roomService.isAdmin}}a.\u0275fac=function(o){return new(o||a)(e.LFG(C.r))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"});var R=l(2487),r=l(4006);function v(n,o){if(1&n&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.successMessage,"\n")}}const A=function(){return{updateOn:"blur"}};class h{constructor(o){this.roomService=o,this.room={roomType:"",amenities:"",price:0,photos:"",checkinTime:new Date,checkoutTime:new Date,rating:0}}ngOnInit(){}addRoom(o){this.roomService.addRoom(this.room).subscribe(t=>{this.successMessage="Room Added Successfully",o.resetForm({roomType:"",amenities:"",price:0,photos:"",checkinTime:new Date,checkoutTime:new Date,rating:0})})}}h.\u0275fac=function(o){return new(o||h)(e.Y36(R.L))},h.\u0275cmp=e.Xpm({type:h,selectors:[["hinv-rooms-add"]],decls:21,vars:11,consts:[["class","alert alert-success",4,"NgIf"],["action","",1,"form","p-3",3,"ngSubmit"],["roomsform","ngForm"],[1,"form-group","mb-2"],["required","","type","text","name","roomType","placeholder","Room type",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["required","","type","text","minLength","5","maxLength","20","name","amenities","placeholder","Room Amenities",1,"form-control",3,"ngModel","ngModelChange"],["ramenities","ngModel"],["required","","type","text","name","photos","placeholder","Photos (provide a link)",1,"form-control",3,"ngModel","ngModelChange"],["required","","type","number","name","price","placeholder","Room price per night",1,"form-control",3,"ngModel","ngModelChange"],["required","","type","datetime","name","checkinTime","placeholder","Check-In time",1,"form-control",3,"ngModel","ngModelChange"],["required","","type","datetime","name","checkoutTime","placeholder","Check-Out time",1,"form-control",3,"ngModel","ngModelChange"],["required","","type","number","name","rating","placeholder","Rating",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-success"]],template:function(o,t){if(1&o){const i=e.EpF();e.YNc(0,v,2,1,"div",0),e.TgZ(1,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(t.addRoom(s))}),e.TgZ(3,"div",3)(4,"input",4),e.NdJ("ngModelChange",function(s){return t.room.roomType=s}),e.qZA()(),e.TgZ(5,"div",3)(6,"input",5,6),e.NdJ("ngModelChange",function(s){return t.room.amenities=s}),e.qZA()(),e.TgZ(8,"div",3)(9,"input",7),e.NdJ("ngModelChange",function(s){return t.room.photos=s}),e.qZA()(),e.TgZ(10,"div",3)(11,"input",8),e.NdJ("ngModelChange",function(s){return t.room.price=s}),e.qZA()(),e.TgZ(12,"div",3)(13,"input",9),e.NdJ("ngModelChange",function(s){return t.room.checkinTime=s}),e.qZA()(),e.TgZ(14,"div",3)(15,"input",10),e.NdJ("ngModelChange",function(s){return t.room.checkoutTime=s}),e.qZA()(),e.TgZ(16,"div",3)(17,"input",11),e.NdJ("ngModelChange",function(s){return t.room.rating=s}),e.qZA()(),e.TgZ(18,"div",12)(19,"button",13),e._uU(20," Add room "),e.qZA()()()}if(2&o){const i=e.MAs(2);e.Q6J("NgIf",null!==t.successMessage),e.xp6(4),e.Q6J("ngModel",t.room.roomType)("ngModelOptions",e.DdM(10,A)),e.xp6(2),e.Q6J("ngModel",t.room.amenities),e.xp6(3),e.Q6J("ngModel",t.room.photos),e.xp6(2),e.Q6J("ngModel",t.room.price),e.xp6(2),e.Q6J("ngModel",t.room.checkinTime),e.xp6(2),e.Q6J("ngModel",t.room.checkoutTime),e.xp6(2),e.Q6J("ngModel",t.room.rating),e.xp6(2),e.Q6J("disabled",i.invalid)}},dependencies:[r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.On,r.F]});var y=l(9751),M=l(7579),b=l(4004);class d{ngOnInit(){}}d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["hinv-header"]],decls:2,vars:1,template:function(o,t){1&o&&(e.TgZ(0,"h1"),e._uU(1),e.qZA()),2&o&&(e.xp6(1),e.Oqu(t.title))}});var q=l(946);class f{transform(o,t){return o.filter(i=>i.price>t)}}f.\u0275fac=function(o){return new(o||f)},f.\u0275pipe=e.Yjl({name:"filter",type:f,pure:!0});const U=function(n){return["/booking",n]};function J(n,o){if(1&n&&(e.TgZ(0,"tr",4)(1,"td"),e._uU(2),e.ALo(3,"percent"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"currency"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td")(23,"button",5),e._uU(24," Book Room "),e.qZA()()()),2&n){const t=o.$implicit,i=o.index,m=o.even;e.Q6J("ngClass",m?"even":"odd"),e.xp6(2),e.Oqu(e.lcZ(3,10,i)),e.xp6(3),e.Oqu(m?"Even":"Odd"),e.xp6(2),e.Oqu(t.roomNumber),e.xp6(2),e.Oqu(t.roomType),e.xp6(2),e.Oqu(e.xi3(12,12,t.price,"USD")),e.xp6(3),e.Oqu(e.lcZ(15,15,t.amenities)),e.xp6(3),e.Oqu(e.xi3(18,17,t.checkinTime,"short")),e.xp6(3),e.Oqu(e.xi3(21,20,t.checkoutTime,"short")),e.xp6(3),e.Q6J("routerLink",e.VKq(23,U,t.roomNumber))}}const k=function(n){return{color:n}};class T{ngOnChanges(o){}ngOnInit(){console.log(this.rooms)}constructor(){this.rooms=[],this.greet="",this.selectedRoom=new e.vpe,this.sayHello=new e.vpe}ngOnDestroy(){console.log("destroy called")}selectRoom(o){this.selectedRoom.emit(o)}passMessage(o){this.sayHello.emit(o)}}function O(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.message,"\n")}}T.\u0275fac=function(o){return new(o||T)},T.\u0275cmp=e.Xpm({type:T,selectors:[["hinv-rooms-list"]],inputs:{rooms:"rooms",greet:"greet",price:"price"},outputs:{selectedRoom:"selectedRoom",sayHello:"sayHello"},features:[e.TTD],decls:24,vars:7,consts:[[1,"table","table-striped"],[3,"ngStyle"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"btn","btn-primary","btn-md",3,"routerLink"]],template:function(o,t){1&o&&(e._UZ(0,"br"),e._uU(1,"\nRooms List\n"),e.TgZ(2,"table",0)(3,"tr",1)(4,"th",2),e._uU(5,"Index"),e.qZA(),e.TgZ(6,"th",2),e._uU(7,"Even/Odd"),e.qZA(),e.TgZ(8,"th",2),e._uU(9,"Room Number"),e.qZA(),e.TgZ(10,"th",2),e._uU(11,"Room Type"),e.qZA(),e.TgZ(12,"th",2),e._uU(13,"Room Price"),e.qZA(),e.TgZ(14,"th",2),e._uU(15,"Amenities"),e.qZA(),e.TgZ(16,"th",2),e._uU(17,"Check In"),e.qZA(),e.TgZ(18,"th",2),e._uU(19,"Check Out"),e.qZA(),e.TgZ(20,"th",2),e._uU(21,"Select"),e.qZA()(),e.YNc(22,J,25,25,"tr",3),e.ALo(23,"filter"),e.qZA()),2&o&&(e.xp6(3),e.Q6J("ngStyle",e.VKq(5,k,"green")),e.xp6(19),e.Q6J("ngForOf",e.xi3(23,2,t.rooms,t.price)))},dependencies:[c.mk,c.sg,c.PC,g.rH,c.Zx,c.rS,c.H9,c.uU,f]});class _{toggle(){this.hideRooms=!this.hideRooms}ngAfterViewInit(){this.HeaderComponent.title="Rooms View"}ngOnInit(){this.subscription=this.roomService.getRooms().subscribe(o=>{this.roomList=o,console.log(o)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}constructor(o,t){this.roomService=o,this.configS=t,this.hotelName="Hilton Hotel",this.roomsCount=20,this.hideRooms=!0,this.totalBytes=0,this.priceFilter=new r.NI(0),this.greetingMessage="Good morning User!",this.stream=new y.y(i=>{i.next("user1"),i.next("user2"),i.next("user3"),i.complete()}),this.roomList=[],this.error$=new M.x,this.getError$=this.error$.asObservable(),this.roomsCount$=this.roomService.getRooms$.pipe((0,b.U)(i=>{})),this.rooms={totalRooms:20,availableRooms:this.roomList.length,bookedRooms:10}}selectRoom(o){this.selectedRoom=o}displayMessage(o){this.message=o}addRoom(){let o={roomNumber:"106",roomType:"Deluxe1",amenities:"TV, AC, Wifi",price:1e3,photos:"demo",checkinTime:new Date("11-nov-2023"),checkoutTime:new Date("12-nov-2023"),rating:45};this.roomService.addRoom(o).subscribe(t=>{this.roomList=t})}editRoom(){let o={roomNumber:"3",roomType:"Luxurious",amenities:"TV, AC, Wifi",price:1e3,photos:"sandip",checkinTime:new Date("11-nov-2023"),checkoutTime:new Date("12-nov-2023"),rating:45};this.roomService.editRoom(o).subscribe(t=>{this.roomList=t})}deleteRoom(){this.roomService.delete("3").subscribe(o=>{this.roomList=o})}}_.\u0275fac=function(o){return new(o||_)(e.Y36(R.L),e.Y36(q.E))},_.\u0275cmp=e.Xpm({type:_,selectors:[["hinv-rooms"]],viewQuery:function(o,t){if(1&o&&(e.Gf(d,7),e.Gf(d,5)),2&o){let i;e.iGM(i=e.CRH())&&(t.HeaderComponent=i.first),e.iGM(i=e.CRH())&&(t.HeaderChildren=i)}},decls:22,vars:8,consts:[["routerLink","add",1,"btn","btn-primary"],[1,"btn","btn-dark","mt-4",3,"click"],[1,"btn","btn-primary","mt-4","btn-sm",3,"click"],[1,"btn","btn-danger","mt-3","btn-sm",3,"click"],[4,"ngIf"],["type","number","placeholder","price",1,"form-control",3,"formControl"],[3,"greet","price","rooms","selectedRoom","sayHello"]],template:function(o,t){1&o&&(e._UZ(0,"hinv-header")(1,"hinv-header")(2,"hinv-header")(3,"router-outlet"),e.TgZ(4,"div")(5,"button",0),e._uU(6,"Add room"),e.qZA()(),e.TgZ(7,"button",1),e.NdJ("click",function(){return t.toggle()}),e._uU(8,"Toggle"),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"button",2),e.NdJ("click",function(){return t.editRoom()}),e._uU(11," edit room\n"),e.qZA(),e.TgZ(12,"button",3),e.NdJ("click",function(){return t.deleteRoom()}),e._uU(13," delete room\n"),e.qZA(),e.YNc(14,O,2,1,"div",4),e._uU(15),e.ALo(16,"json"),e.TgZ(17,"div"),e._UZ(18,"input",5),e.qZA(),e.TgZ(19,"div")(20,"hinv-rooms-list",6),e.NdJ("selectedRoom",function(m){return t.selectRoom(m)})("sayHello",function(m){return t.displayMessage(m)}),e.qZA()(),e._UZ(21,"router-outlet")),2&o&&(e.xp6(14),e.Q6J("ngIf",t.message),e.xp6(1),e.hij("\n",e.lcZ(16,6,t.priceFilter),"\n"),e.xp6(3),e.Q6J("formControl",t.priceFilter),e.xp6(2),e.Q6J("greet",t.greetingMessage)("price",t.priceFilter.value)("rooms",t.roomList))},dependencies:[c.O5,g.lC,g.rH,r.Fj,r.wV,r.JJ,d,r.oH,T,c.Ts]});const L=[{path:"",component:_,canActivateChild:[a],children:[{path:"add",component:h}]}];class u{}u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[g.Bz.forChild(L),g.Bz]});var F=l(677);class p{}p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[c.ez,u,r.u5,F.O,r.UX]})}}]);